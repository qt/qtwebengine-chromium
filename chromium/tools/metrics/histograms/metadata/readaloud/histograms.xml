<!--
Copyright 2023 The Chromium Authors
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->

<!--
This file is used to generate a comprehensive list of Compose histograms
along with a detailed description for each histogram.

For best practices on writing histogram descriptions, see
https://chromium.googlesource.com/chromium/src.git/+/HEAD/tools/metrics/histograms/README.md

Please follow the instructions in the OWNERS file in this directory to find a
reviewer. If no OWNERS file exists, please consider signing up at
go/reviewing-metrics (Googlers only), as all subdirectories are expected to
have an OWNERS file. As a last resort you can send the CL to
chromium-metrics-reviews@google.com.
-->

<histogram-configuration>

<histograms>

<variants name="Phase">
  <variant name="Playback"/>
  <variant name="PlaybackRequest"/>
  <variant name="ReadabilityCheck"/>
</variants>

<histogram name="ReadAloud.DurationListened" units="ms"
    expires_after="2024-06-02">
  <owner>andreaxg@google.com</owner>
  <owner>basiaz@google.com</owner>
  <owner>iwells@chromium.org</owner>
  <summary>
    Record user's cumulative duration spent listening to a single playback.
    Emitted when playback is reset. Max value is 1 hour. Any listening durations
    longer than 1 hour will be recorded as 1 hour.
  </summary>
</histogram>

<histogram name="ReadAloud.DurationListened.LockedScreen" units="ms"
    expires_after="2024-06-02">
  <owner>andreaxg@google.com</owner>
  <owner>basiaz@google.com</owner>
  <owner>iwells@chromium.org</owner>
  <summary>
    Record user's cumulative duration spent listening to a single playback with
    the screen locked. Emitted when playback is reset. Max value is 1 hour. Any
    listening durations longer than 1 hour will be recorded as 1 hour.
  </summary>
</histogram>

<histogram name="ReadAloud.Eligibility.IneligiblityReason"
    enum="ReadAloudIneligibilityReason" expires_after="2024-06-02">
  <owner>andreaxg@google.com</owner>
  <owner>basiaz@google.com</owner>
  <owner>iwells@chromium.org</owner>
  <summary>
    Histogram for recording why a user is not eligible for the ReadAloud
    feature. Emitted when the user profile is available and the user is
    ineligible. Conditions are checked in ReadAloudFeatures.
  </summary>
</histogram>

<histogram name="ReadAloud.Eligibility.IsUserEligible" enum="BooleanEligible"
    expires_after="2024-06-02">
  <owner>andreaxg@google.com</owner>
  <owner>basiaz@google.com</owner>
  <owner>iwells@chromium.org</owner>
  <summary>
    Histogram for recording if a user is eligible for ReadAloud. Emitted when
    the user profile is available.
  </summary>
</histogram>

<histogram name="ReadAloud.HighlightingEnabled" enum="BooleanEnabled"
    expires_after="2024-06-02">
  <owner>andreaxg@google.com</owner>
  <owner>basiaz@google.com</owner>
  <owner>iwells@chromium.org</owner>
  <summary>
    Histogram for recording if highlighting is enabled or disabled. Emitted when
    the user toggles the &quot;Highlighting enabled&quot; setting.
  </summary>
</histogram>

<histogram name="ReadAloud.HighlightingEnabled.OnStartup" enum="BooleanEnabled"
    expires_after="2024-06-02">
  <owner>andreaxg@google.com</owner>
  <owner>basiaz@google.com</owner>
  <owner>iwells@chromium.org</owner>
  <summary>
    Histogram for recording if highlighting is enabled or disabled on session
    startup.
  </summary>
</histogram>

<histogram name="ReadAloud.HighlightingSupported" enum="BooleanSupported"
    expires_after="2024-06-02">
  <owner>andreaxg@google.com</owner>
  <owner>basiaz@google.com</owner>
  <owner>iwells@chromium.org</owner>
  <summary>
    Histogram for recording if highlighting is supported. Emitted when a
    playback is successfully created.
  </summary>
</histogram>

<histogram name="ReadAloud.IsPageReadabilitySuccessful" enum="BooleanSuccess"
    expires_after="2024-06-02">
  <owner>andreaxg@google.com</owner>
  <owner>basiaz@google.com</owner>
  <owner>iwells@chromium.org</owner>
  <summary>
    Histogram for recording if a page readability check is successful or fails.
    The readability check is run on each page load for Android clients who are
    eligible for ReadAloud.
  </summary>
</histogram>

<histogram name="ReadAloud.IsPageReadable" enum="BooleanEligible"
    expires_after="2024-06-02">
  <owner>andreaxg@google.com</owner>
  <owner>basiaz@google.com</owner>
  <owner>iwells@chromium.org</owner>
  <summary>
    Histogram for recording if a page readability check comes back isReadable or
    not. The readability check is run on each page load for Android clients who
    are eligible for ReadAloud.
  </summary>
</histogram>

<histogram name="ReadAloud.IsTabPlaybackCreationSuccessful"
    enum="BooleanSuccess" expires_after="2024-06-02">
  <owner>andreaxg@google.com</owner>
  <owner>basiaz@google.com</owner>
  <owner>iwells@chromium.org</owner>
  <summary>
    Records if a tab playback creation succeeds or fails. Emitted in the tab
    playback creation callback. Does not mean playback has started.
  </summary>
</histogram>

<histogram name="ReadAloud.ReadAloudError.{Phase}" enum="ReadAloudErrorCode"
    expires_after="2024-06-02">
  <owner>andreaxg@google.com</owner>
  <owner>basiaz@google.com</owner>
  <owner>iwells@chromium.org</owner>
  <summary>
    Records cause of a ReadAloud-speficic exception. In case more details are
    known, ReadAloud.ReadAloudUnsuportedError.{Phase} or
    ReadAloud.ReadAloudNetError.{Phase} will also be emitted. Recorded during
    {Phase}.
  </summary>
  <token key="Phase" variants="Phase"/>
</histogram>

<histogram name="ReadAloud.ReadAloudNetError.{Phase}" enum="NetErrorCodes"
    expires_after="2024-06-02">
  <owner>andreaxg@google.com</owner>
  <owner>basiaz@google.com</owner>
  <owner>iwells@chromium.org</owner>
  <summary>
    Network status codes recorded for each ReadAloudRequest that fails and has
    this information present. Recorded value is the absolute value of the
    received net::Error value.

    Recorded during {Phase}.
  </summary>
  <token key="Phase" variants="Phase"/>
</histogram>

<histogram name="ReadAloud.ReadAloudUnsuportedError.{Phase}"
    enum="RejectionReason" expires_after="2024-06-02">
  <owner>andreaxg@google.com</owner>
  <owner>basiaz@google.com</owner>
  <owner>iwells@chromium.org</owner>
  <summary>
    Records a rejection reason for not being able to trigger or continue read
    aloud. Recorded during {Phase}.
  </summary>
  <token key="Phase" variants="Phase"/>
</histogram>

<histogram name="ReadAloud.SpeedChange" enum="ReadAloudSpeed"
    expires_after="2024-06-02">
  <owner>andreaxg@google.com</owner>
  <owner>basiaz@google.com</owner>
  <owner>iwells@chromium.org</owner>
  <summary>
    Histogram for recording what speed setting a user selects for the ReadAloud
    playback. Emitted when the ReadAloud speed pref is changed.
  </summary>
</histogram>

<histogram name="ReadAloud.VoiceChanged.{VoiceID}" enum="Boolean"
    expires_after="2024-06-02">
  <owner>andreaxg@google.com</owner>
  <owner>basiaz@google.com</owner>
  <owner>iwells@chromium.org</owner>
  <summary>
    Histogram for recording what voice a user changes to. Emitted when the
    ReadAloud pref for voice is changed by the user. This only ever logs the
    value &quot;true&quot; because we only care about the total count.
  </summary>
</histogram>

<histogram name="ReadAloud.VoicePreviewed.{VoiceID}" enum="Boolean"
    expires_after="2024-06-02">
  <owner>andreaxg@google.com</owner>
  <owner>basiaz@google.com</owner>
  <owner>iwells@chromium.org</owner>
  <summary>
    Histogram for recording what voice a user previews. Emitted when a voice
    preview playback is created successfully in ReadAloudController. This only
    ever logs the value &quot;true&quot; because we only care about the total
    count.
  </summary>
</histogram>

</histograms>

</histogram-configuration>
