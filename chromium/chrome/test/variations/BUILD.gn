import("//build/config/android/config.gni")
import("//build/config/python.gni")

python_library("test_utils") {
  testonly = true

  data = [ "//chrome/test/variations/test_utils/" ]
}

python_library("fixtures") {
  testonly = true

  data = [
    "//build/skia_gold_common/",
    "//chrome/test/variations/drivers/",
    "//chrome/test/variations/fixtures/",
    "//chrome/test/variations/drivers/",
  ]

  data_deps = [ "//ui/base:goldctl" ]

  if (is_android && enable_chrome_android_internal) {
    data += [
      "//build/android/",
     "//tools/android/avd/proto/",
    ]

    data_deps += [
      "//build/android:devil_chromium_py",
      "//build/android:test_runner_py",
      "//third_party/catapult/devil:devil",
      "//clank/bin:installer_scripts"
    ]
  }
}

python_library("variations_desktop_smoke_tests") {
  testonly = true

  data = [
    "conftest.py",
    "smoke_test.py",
    "//chrome/test/data/variations/",
    "//chrome/test/variations/run_variations_tests.py",
  ]

  data_deps = [
    ":fixtures",
    ":test_utils",
    "//testing:run_isolated_script_test",
    "//testing:test_scripts_shared",
    "//third_party/catapult/third_party/gsutil:gsutil",
  ]
}
